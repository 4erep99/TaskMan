#:include connected.kv
#:include register.kv

<Login>:
    canvas:
        Color:
            rgba: (1, 1, 1, .7)
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout
        id: login_layout
        orientation: 'vertical'
        padding: [10,50,10,50]
        spacing: 30
        Label:
            text: u'\u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F'
            #Авторизация
            font_size: 32
            color: 0, 0, 0, 1
            size_hint_y: .1
        AnchorLayout:
            size_hint_y: .8
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                spacing: 10
                TextInput:
                    id: login
                    multiline:False
                    font_size: 20
                    hint_text: '\u041B\u043E\u0433\u0438\u043D'
                    size_hint_y: None
                    size_hint_x: .5
                    pos_hint: {'x': .25}
                    height: 40
                    padding: [5, 8]

                TextInput:
                    id: password
                    multiline:False
                    password:True
                    hint_text: '\u041F\u0430\u0440\u043E\u043B\u044C'
                    font_size: 20
                    size_hint_y: None
                    size_hint_x: .5
                    pos_hint: {'x': .25}
                    height: 40

        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            size_hint_y: .1
            Button:
                text: '\u0412\u043E\u0439\u0442\u0438'
                #Войти
                font_size: 24
                color: 0, 0, 0, 1
                background_color: 1, 1, 1, .5
                on_press: root.do_login(login.text, password.text)
            Button:
                text: '\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F'
                #Регистрация
                font_size: 24
                color: 0, 0, 0, 1
                background_color: 1, 1, 1, .5
                on_press: root.do_register()
<ErrorMessageWidget>:
    anchor_x: "center"
    anchor_y: "top"
    Button:
        text: app.ErrorMessage
        background_color: 1, 0, 0, 1
        size_hint_y: .05
        on_press: root.parent.remove_widget(root)
<VoiceMessage>:
    anchor_x: "center"
    anchor_y: "top"
    Button:
        text: app.VoiceMessageText
        background_color: 1, 0, 0, 1
        size_hint_y: .05
        on_press: root.parent.remove_widget(root)